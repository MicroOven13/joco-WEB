<!DOCTYPE html>
<html lang="hu">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Kapcsolat – Fehér József</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<header>
			<div class="container nav">
				<a class="brand" href="index.html">Fehér József</a>
				<nav class="menu">
					<a href="index.html">Főoldal</a>
					<a href="rolam.html">Rólam</a>
					<a href="gyik.html">GYIK</a>
					<a class="active" href="kapcsolat.html">Kapcsolat</a>
				</nav>
				<span class="cta">Kapcsolat</span>
			</div>
		</header>

		<section class="hero">
			<div class="container pad">
				<h1>Kapcsolat</h1>
				<p>
					Elérhetőség: <strong>feherj@grantis.hu</strong> •
					<strong>+36 30 634 0195</strong>
				</p>
				<form
					class="mt-16"
					action="https://formspree.io/f/XXXXXXXXXXXXXXXX"
					method="POST"
				>
					<div>
						<label>Név*</label>
						<input required name="name" placeholder="" />
					</div>
					<div>
						<label>E-mail*</label>
						<input required type="email" name="email" placeholder="" />
					</div>
					<div>
						<label>Telefonszám*</label>
						<div>
							<input
								id="phone"
								name="phone"
								type="tel"
								inputmode="numeric"
								autocomplete="tel"
								required
								maxlength="15"
								pattern="^[0-9]{9,15}$"
								title="Kérlek, csak számokat adj meg (9–15 számjegy, pl. 06301234567)."
								placeholder=""
								oninput="this.value=this.value.replace(/[^0-9]/g,'');"
							/>
						</div>
					</div>
					<div>
						<label>Miért jelentkezik? Mit szeretne?</label>
						<textarea name="message" rows="5" placeholder=""></textarea>
					</div>
					<div>
						<label>Preferált kapcsolatfelvétel</label>
						<select name="contact_pref">
							<option>E-mail</option>
							<option>Telefon</option>
						</select>
					</div>
					<label class="consent">
						<input type="checkbox" required name="gdpr" />
						<span>
							Elolvastam és elfogadom az
							<a href="adatkezeles.html" target="_blank" rel="noopener"
								>Adatkezelési tájékoztatót</a
							>, és hozzájárulok, hogy a megadott személyes adataimat Fehér
							József a kapcsolatfelvétel és időpont-egyeztetés céljából kezelje.
						</span>
					</label>

					<button class="submit" type="submit">Küldés</button>
				</form>
				<p style="margin-top: 10px; font-size: 12px; color: #6b7280">
				 * Beküldés után 1-2 munkanapon belül felveszem veled a kapcsolatot.
				</p>
			</div>
		</section>

		<footer>
			<div class="container">
				<div style="font-size: 12px">
					© <span id="yearK"></span> XXXXXXXXXXXXXXXXXX
				</div>
			</div>
		</footer>
		<script>
			document.getElementById("yearK").textContent = new Date().getFullYear();
			(function () {
				const form = document.querySelector("form");
				const gdpr = document.querySelector('input[name="gdpr"]');
				const btn = document.getElementById("submit-btn");
				const err = document.getElementById("gdpr-error");
				const wrap = document.getElementById("gdpr-consent");
				const phone = document.getElementById("phone");
				if (phone) {
					phone.addEventListener("paste", function (e) {
						e.preventDefault();
						const text = (e.clipboardData || window.clipboardData).getData(
							"text"
						);
						const digits = text.replace(/\D/g, "").slice(0, 15);
						const caretEnd = this.selectionStart ?? this.value.length;
						const caretStart = this.selectionStart ?? this.value.length;
						this.value = (
							this.value.slice(0, caretStart) +
							digits +
							this.value.slice(caretEnd)
						)
							.replace(/\D/g, "")
							.slice(0, 15);
					});
				}

				function toggle() {
					if (btn) btn.disabled = !gdpr.checked;
					if (gdpr.checked) {
						err.style.display = "none";
						wrap.style.outline = "none";
					}
				}
				gdpr.addEventListener("change", toggle);
				toggle();

				form.addEventListener("submit", function (e) {
					if (!gdpr.checked) {
						e.preventDefault();
						err.style.display = "block";
						wrap.style.outline = "2px solid #b91c1c";
						wrap.style.outlineOffset = "4px";
						gdpr.focus();
						return;
					}

					const ok = /^\d{9,15}$/.test(phone.value);
					if (!ok) {
						e.preventDefault();
						alert(
							"Kérlek, csak számokat adj meg telefonszámként (9–15 számjegy, pl. 06301234567)."
						);
						phone.focus();
					}
				});
			})();
		</script>
	</body>
</html>
