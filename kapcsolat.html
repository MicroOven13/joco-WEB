<!DOCTYPE html>
<html lang="hu">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Kapcsolat – Fehér József</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<header>
			<div class="container nav">
				<a class="brand" href="index.html">Fehér József</a>
				<nav class="menu">
					<a href="index.html">Főoldal</a>
					<a href="rolam.html">Rólam</a>
					<a href="gyik.html">GYIK</a>
					<a class="active" href="kapcsolat.html">Kapcsolat</a>
				</nav>
				<span class="cta">Kapcsolat</span>
			</div>
		</header>

		<section class="hero">
			<div class="container pad">
				<h1>Kapcsolat</h1>
				<p>
					Elérhetőség: <strong>feherj@grantis.hu</strong> •
					<strong>+36 30 634 0195</strong>
				</p>
				<form
					class="mt-16"
					action="https://formspree.io/f/xblpppoa"
					method="POST"
				>
					<div>
						<label>Név*</label>
						<input required name="name" placeholder="" />
					</div>

					<div>
						<label>E-mail*</label>
						<input required type="email" name="email" placeholder="" />
					</div>

					<div>
						<label>Telefonszám*</label>
						<input
							id="phone"
							name="phone"
							type="tel"
							inputmode="numeric"
							autocomplete="tel"
							required
							maxlength="15"
							pattern="^[0-9]{9,15}$"
							title="Kérlek, csak számokat adj meg (9–15 számjegy)."
							oninput="this.value=this.value.replace(/[^0-9]/g,'');"
							placeholder=""
						/>
					</div>

					<div>
						<label>Miért jelentkezik? Mit szeretne?</label>
						<textarea name="message" rows="5" placeholder=""></textarea>
					</div>

					<div>
						<label>Preferált kapcsolatfelvétel</label>
						<select name="contact_pref">
							<option>E-mail</option>
							<option>Telefon</option>
						</select>
					</div>

					<label class="consent" id="gdpr-consent">
						<input
							type="checkbox"
							required
							name="gdpr"
							aria-describedby="gdpr-error"
						/>
						<span>
							Elolvastam és elfogadom az
							<a href="adatkezeles.html" target="_blank" rel="noopener"
								>Adatkezelési tájékoztatót</a
							>, és hozzájárulok, hogy a megadott személyes adataimat Fehér
							József a kapcsolatfelvétel és időpont-egyeztetés céljából kezelje.
						</span>
					</label>
					<p
						id="gdpr-error"
						style="
							display: none;
							color: #b91c1c;
							font-size: 13px;
							margin: 6px 0 10px 0;
						"
					>
						Kérlek, jelöld be a hozzájárulást a folytatáshoz.
					</p>

					<button class="submit" type="submit" id="submit-btn" disabled>
						Beküldés
					</button>

					<input
						type="hidden"
						name="_subject"
						value="Új érdeklődés – feherjozsef.hu"
					/>
					<input type="hidden" name="_redirect" value="/koszonjuk.html" />
					<input type="text" name="_gotcha" style="display: none" />
				</form>

				<p style="margin-top: 10px; font-size: 12px; color: #6b7280">
					* Beküldés után 1-2 munkanapon belül felveszem veled a kapcsolatot.
				</p>
			</div>
		</section>

		<footer>
			<div class="container">
				<div style="font-size: 12px">
					© <span id="yearR"></span> Fehér József •
					<a href="adatkezeles.html">Adatkezelési tájékoztató</a> •
					<a href="jogi-nyilatkozat.html">Jogi nyilatkozat</a>
				</div>
			</div>
		</footer>
		<script>
  const yearEl = document.getElementById("yearK") || document.getElementById("year");
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  document.addEventListener('DOMContentLoaded', function(){
    const form  = document.querySelector('form');
    if (!form) return;

    const gdpr  = form.querySelector('input[name="gdpr"]');
    const btn   = document.getElementById('submit-btn');
    const err   = document.getElementById('gdpr-error');
    const phone = document.getElementById('phone');

    function toggleBtn(){ if (btn && gdpr) btn.disabled = !gdpr.checked; }
    if (gdpr) gdpr.addEventListener('change', toggleBtn);
    toggleBtn();

    if (phone) {
      phone.addEventListener('paste', function(e){
        e.preventDefault();
        const digits = (e.clipboardData.getData('text') || '').replace(/\D/g,'').slice(0,15);
        document.execCommand('insertText', false, digits);
      });
    }

    form.addEventListener('submit', function(e){

      if (gdpr && !gdpr.checked) {
        e.preventDefault();
        if (err) err.style.display = 'block';
        gdpr.focus();
        return;
      }
      if (phone && !/^\d{9,15}$/.test(phone.value)) {
        e.preventDefault();
        alert('Kérlek, csak számokat adj meg telefonszámként (9–15 számjegy, pl. 06301234567).');
        phone.focus();
        return;
      }
    });
  });
</script>

	</body>
</html>
